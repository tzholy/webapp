var stage;
var shapeContainer;
var bounds = {};
var isPaused = false;
var isStop = false;
var isShowFromPage = true;
$(function(){
    initPageEvent();
});

function isTestFrameWork(){return true;}
function showMessage(message, type){
    type = type||1;
    var title='';
    if(type==1){
        title = 'pageEvent';
    }
    var result = title+ ' : '+message;
    if(isTestFrameWork()){
        console.log(result);
        //alert(result);
    }
}

function pageDiv(element){
    return $(element).closest('[data-role="page"]');
}

function pageinit(){
    $('.btn_menu').on('click', function(){
        var btn = $(this);
        var page = pageDiv(this);
        var menu = page.find('.menu');
        var isExpend = btn.attr('isExpend');
        if(isExpend){
            btn.removeAttr('isExpend');
            menu.collapsible("collapse");
            menu.hide();
        }else {
            btn.attr('isExpend','isExpend');
            menu.collapsible( "expand" );
            menu.show();
        }
    });
}

function initPageEvent(){
    pageinit();
    /**
     * 注意事件名字一律小写
     */
    /**
     * Page Initialization 在页面创建前，创建时，在初始化页面后
     */
    $(document).on('pagebeforecreate',function(event){
        //页面即将初始化
        showMessage('pageBeforeCreate', 1);
    });
    $(document).on('pagecreate',function(event){
        //页面已经创建的时候，还没有加载页面元素的时候
        showMessage('pageCreate', 1);
    });
    $(document).on('pageinit',function(event){
        //页面完成dom加载的时候
        showMessage('pageInit', 1);
    });
    /**
     * Page Load/Unload 当外部页面加载时、卸载时或遭遇失败时
     */
    $(document).on('pagebeforeload',function(event,data){
        //外部页面加载之前
        showMessage('pageBeforeLoad', 1);
    });
    $(document).on('pageload',function(event,data){
        //外部页面加载成功，并插入到dom中
        showMessage('pageLoad', 1);
        showMessage(data, 1);
    });
    $(document).on('pageloadfailed',function(event,data){
        //外部页面加载失败，并插入到dom中
        showMessage('pageloadfailed', 1);
    });
    /**
     * Page Transition 在页面过渡之前和之后
     */
    $(document).on('pagebeforehide', '#index',function(){
        showMessage('pageBeforeHide', 1);
    });
    $(document).on('pagehide', '#index',function(){
        showMessage('pageHide', 1);
    });
    $(document).on('pagebeforeshow','#index2',function(){
        //在去的过渡动画开始之前
        showMessage('pageBeforeShow', 1);
    });
    $(document).on('pageshow','#index2',function(){
        //在去的过渡动画完成之后
        showMessage('pageShow', 1);
    });

////////////////////////////////////////////////////////////////////////////////////////
	
	//init();
	$(document).on('pageshow','[data-role="dialog"]',function(){
		isShowFromPage = false;
    });
	 
	 $(document).on('pageshow','#index',function(){
        if(isShowFromPage)init();
		else{
			trigger(document.getElementById('select-color'),'change');
		}
		isShowFromPage = true;
    });
}

function init(){
    stage = new createjs.Stage('demoCanvas');
	bounds.width = stage.canvas.width;
	bounds.height = stage.canvas.height;
	console.log(bounds);
    testApi();
}

function resetStage(){
	stage.removeAllChildren();
	stage.removeAllEventListeners();
	stage.clear();
	stage.update();
	createjs.Ticker.removeAllEventListeners();
}

var title;
var painter;
function testApi(){
	painter = new Painter(stage);
	
	document.getElementById('importFile').addEventListener('change', importFile);
	document.getElementById('btn-imgImport').addEventListener('click', imgImport);
	document.getElementById('btn-imgExport').addEventListener('click', imgExport);
	document.getElementById('btn-paintGrid').addEventListener('click', function(event){painter.paintGrid(event)});
	document.getElementById('btn-testFn').addEventListener('click', function(event){painter.testFn(event)});
	document.getElementById('btn-restart').addEventListener('click', restart);
	document.getElementById('btn-back').addEventListener('click', function(event){painter.paintBack(event)});
	document.getElementById('btn-forward').addEventListener('click', function(event){painter.paintForward(event)});
	
	var paintTypeDiv = document.getElementById('select-paintType');
	paintTypeDiv.addEventListener('change', selectPaintType);
	trigger(paintTypeDiv,'change');
	initColor();
	var colorDiv = document.getElementById('select-color');
	colorDiv.addEventListener('change', selectColor);
	trigger(colorDiv,'change');
	var strokeWeightDiv = document.getElementById('select-strokeWeight');
	strokeWeightDiv.addEventListener('change', selectStrokeWeight);
	trigger(strokeWeightDiv,'change');
	
	function importFile(event){
		painter.removeTitle();
		//var image = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8AAAAHgCAYAAABq5QSEAAAgAElEQVR4Xu3dD7Bua1kYdmJAINAgCSnXamQzMoN0lAtJGmzRsklqSZHphWoLqA2bERMVELRSdKpyQJvgaMOfiuIEZTM2ChMcZBoJJk3YBJhKTUVoiujIsC+ovXYwhPQaERH6PLI3Hs4953zP+r/etX5r5p2zz97vev/8nrW//T3fetdaf+puNgIECBAgQIAAAQIECBAgsAOBP7WDOZoiAQIECBAgQIAAAQIECBC4mwTYQUCAAAECBAgQIECAAAECuxCQAO8izCZJgAABAgQIECBAgAABAhJgxwABAgQIECBAgAABAgQI7EJAAryLMJskAQIECBAgQIAAAQIECEiAHQMECBAgQIAAAQIECBAgsAsBCfAuwmySBAgQIECAAAECBAgQICABdgwQIECAAAECBAgQIECAwC4EJMC7CLNJEiBAgAABAgQIECBAgIAE2DFAgAABAgQIECBAgAABArsQkADvIswmSYAAAQIECBAgQIAAAQISYMcAAQIECBAgQIAAAQIECOxCQAK8izCbJAECBAgQIECAAAECBAhIgB0DBAgQIECAAAECBAgQILALAQnwLsJskgQIECBAgAABAgQIECAgAXYMECBAgAABAgQIECBAgMAuBCTAuwizSRIgQIAAAQIECBAgQICABNgxQIAAAQIECBAgQIAAAQK7EJAA7yLMJkmAAAECBAgQIECAAAECEmDHAAECBAgQIECAAAECBAjsQkACvIswmyQBAgQIECBAgAABAgQISIAdAwQIECBAgAABAgQIECCwCwEJ8C7CbJIECBAgQIAAAQIECBAgIAF2DBAgQIAAAQIECBAgQIDALgQkwLsIs0kSIECAAAECBAgQIECAgATYMUCAAAECBAgQIECAAAECuxCQAO8izCZJgAABAgQIECBAgAABAhJgxwABAgQIECBAgAABAgQI7EJAAryLMJskAQIECBAgQIAAAQIECEiAHQMECBAgQIAAAQIECBAgsAsBCfAuwmySBAgQIECAAAECBAgQICABdgwQIECAAAECBAgQIECAwC4EJMC7CLNJEiBAgAABAgQIECBAgIAE2DFAgAABAgQIECBAgAABArsQkADvIswmSYAAAQIECBAgQIAAAQISYMcAAQIECBAgQIAAAQIECOxCQAK8izCbJAECBAgQIECAAAECBAhIgB0DBAgQIECAAAECBAgQILALAQnwLsJskgQIECBAgAABAgQIECAgAXYMECBAgAABAgQIECBAgMAuBCTAuwizSRIgQIAAAQIECBAgQICABNgxQIAAAQIECBAgQIAAAQK7EJAA7yLMJkmAAAECBAgQIECAAAECEmDHAAECBAgQIECAAAECBAjsQkACvIswmyQBAgQIECBAgAABAgQISIAdAwQIECBAgAABAgQIECCwCwEJ8C7CbJIECBAgQIAAAQIECBAgIAF2DBAgQIAAAQIECBAgQIDALgQkwLsIs0kSIECAAAECBAgQIECAgATYMUCAAAECBAgQIECAAAECuxCQAO8izCZJgAABAgQIECBAgAABAhJgxwABAgQIECBAgAABAgQI7EJAAryLMJskAQIECBAgQIAAAQIECEiAHQMECBAgQIAAAQIECBAgsAsBCfAuwmySBAgQIECAAAECBAgQICABdgwQIECAAAECBAgQIECAwC4EJMC7CLNJEiBAgAABAgQIECBAgIAE2DFAgAABAgQIECBAgAABArsQkADvIswmSYAAAQIECBAgQIAAAQISYMcAAQIECBAgQIAAAQIECOxCQAK8izCbJAECBAgQIECAAAECBAhIgB0DBAgQIECAAAECBAgQILALAQnwLsJskgQIECBAgAABAgQIECAgAXYMECBAgAABAgQIECBAgMAuBCTAuwizSRIgQIAAAQIECBAgQICABNgxQIAAAQIECBAgQIAAAQK7EJAA7yLMJkmAAAECBAgQIECAAAECEmDHAAECBAgQIECAAAECBAjsQkACvIswmyQBAgQIECBAgAABAgQISIAdAwQIECBAgAABAgQIECCwCwEJ8C7CbJIECBAgQIAAAQIECBAgIAF2DBAgQIAAAQIECBAgQIDALgQkwLsIs0kSIECAAAECBAgQIECAgATYMUCAAAECBAgQIECAAAECuxCQAO8izCZJgAABAgQIECBAgAABAhJgxwABAgQIECBAgAABAgQI7EJAAryLMJskAQIECBAgQIAAAQIECEiAHQMECBAgQIAAAQIECBAgsAsBCfAuwmySBAgQIECAAAECBAgQICABdgwQIECAAAECBAgQIECAwC4EJMC7CLNJEiBAgAABAgQIECBAgIAE2DFAgAABAgQIECBAgAABArsQkADvIswmSYAAAQIECBAgQIAAAQISYMcAAQIECBAgQIAAAQIECOxCQAK8izCbJAECBAgQIECAAAECBAhIgB0DBAgQIECAAAECBAgQILALAQnwLsJskgQIECBAgAABAgQIECAgAXYMECBAgAABAgQIECBAgMAuBCTAuwizSRIgQIAAAQIECBAgQICABNgxQIAAAQIECBAgQIAAAQK7EJAA7yLMJkmAAAECBAgQIECAAAECEmDHAAECBAgQIECAAAECBAjsQkACvIswmyQBAgQIECBAgAABAgQISIAdAwQIECBAgAABAgQIECCwCwEJ8C7CbJIECBAgQIAAAQIECBAgIAF2DBAgQIAAAQIECBAgQIDALgQkwLsIs0kSIECAAAECBAgQIECAgATYMUCAAAECBAgQIECAAAECuxCQAO8izCZJgAABAgQIECBAgAABAhJgxwABAgQIECBAgAABAgQI7EJAAryLMJskAQIECBAgQIAAAQIECEiAHQMECBAgQIAAAQIECBAgsAsBCfAuwmySBAgQIECAAAECBAgQICABdgwQIECAAAECBAgQIECAwC4EJMC7CLNJEiBAgAABAgQIECBAgIAE2DFAgAABAgQIECBAgAABArsQkADvIswmSYAAAQIECBAgQIAAAQISYMcAAQIECBAgQIAAAQIECOxCQAK8izCbJAECBAgQIECAAAECBAhIgB0DBAgQIECAAAECBAgQILALAQnwLsJskgQIECBAgAABAgQIECAgAXYMECBAgAABAgQIECBAgMAuBCTAuwizSRIgQIAAAQIECBAgQICABNgxQIAAAQIECBAgQIAAAQK7EJAA7yLMJkmAAAECBAgQIECAAAECEmDHAAECBAgQIECAAAECBAjsQkACvIswmyQBAgQIECBAgAABAgQISIAdAwQIECBAgAABAgQIECCwCwEJ8C7CbJIECBAgQIAAAQIECBAgIAF2DBAgQIAAAQIECBAgQIDALgQkwLsIs0kSIECAAAECBAgQIECAgATYMUCAAAECBAgQIECAAAECuxCQAO8izCZJgAABAgQIECBAgAABAhJgxwABAgQIECBAgAABAgQI7EJAAryLMJskAQIECBAgQIAAAQIECEiAHQMECBAgQIAAAQIECBAgsAsBCfAuwmySBAgQIECAAAECBAgQICABdgwQIECAwBCBz4udb72q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ECCwFgEJ8FoiYRwE1iWQyfCLojw8Sj4T92NR7ojyiQPDzOei3hLlc6J8MsqHo9x5YJ+7x88fEOXymarZV+6XfeXPsr18rfpQlP89yg9GccfmdR0vRkOAAAECBAgQaEJAAtxEmAySAAECBAgQIECAAAECBIYKSICHCtqfAAECBAgQIECAAAECBJoQkAA3ESaDJECAAAECBAgQIECAAIGhAhLgoYL2J0CAAAECBAgQIECAAIEmBCTATYTJIAkQIECAAAECBAgQIEBgqIAEeKig/QkQIECAAAECBAgQIECgCQEJcBNhMkgCBAgQIECAAAECBAgQGCogAR4qaH8CBAgQIECAAAECBAgQaEJAAtxEmAySAAECBAgQIECAAAECBIYKSICHCtqfAAECBAgQIECAAAECBJoQkAA3ESaDJECAAAECBAgQIECAAIGhAhLgoYL2J0CAAAECBAgQIECAAIEmBCTATYTJIAkQIECAAAECBAgQIEBgqIAEeKig/QkQIECAAAECBAgQIECgCQEJcBNhMkgCBAgQIECAAAECBAgQGCogAR4qaH8CBAgQIECAAAECBAgQaEJAAtxEmAySAAECBAgQIECAAAECBIYKSICHCtqfAAECBAgQIECAAAECBJoQkAA3ESaDJECAAAECBAgQIECAAIGhAhLgoYL2J0CAAAECBAgQIECAAIEmBCTATYTJIAkQIECAAAECBAgQIEBgqIAEeKig/QkQIECAAAECBAgQIECgCQEJcBNhMkgCBAgQIECAAAECBAgQGCogAR4qaH8CBAgQIECAAAECBAgQaEJAAtxEmAySAAECBAgQIECAAAECBIYKSICHCtqfAAECBAgQIECAAAECBJoQkAA3ESaDJECAAAECBAgQIECAAIGhAhLgoYL2J0CAAAECBAgQIECAAIEmBCTATYTJIAkQIECAAAECBAgQIEBgqIAEeKig/QkQIECAAAECBAgQIECgCQEJcBNhMkgCBAgQIECAAAECBAgQGCogAR4qaH8CBAgQIECAAAECBAgQaEJAAtxEmAySAAECBAgQIECAAAECBIYKSICHCtqfAAECBAgQIECAAAECBJoQkAA3ESaDJECAAAECBAgQIECAAIGhAhLgoYL2J0CAAAECBAgQIECAAIEmBCTATYTJIAkQIECAAAECBAgQIEBgqIAEeKig/QkQIECAAAECBAgQIECgCQEJcBNhMkgCBAgQIECAAAECBAgQGCogAR4qaH8CBAgQIECAAAECBAgQaEJAAtxEmAySAAECBAgQIECAAAECBIYKSICHCtqfAAECBAgQIECAAAECBJoQkAA3ESaDJECAAAECBAgQIECAAIGhAhLgoYL2J0CAAAECBAgQIECAAIEmBCTATYTJIAkQIECAAAECBAgQIEBgqIAEeKig/QkQIECAAAECBAgQIECgCQEJcBNhMkgCBAgQIECAAAECBAgQGCogAR4qaH8CBAgQIECAAAECBAgQaEJAAtxEmAySAAECBAgQIECAAAECBIYKSICHCtqfAAECBAgQIECAAAECBJoQkAA3ESaDJECAAAECBAgQIECAAIGhAhLgoYL2J0CAAAECBAgQIECAAIEmBCTATYTJIAkQIECAAAECBAgQIEBgqIAEeKig/QkQIECAAAECBAgQIECgCQEJcBNhMkgCBAgQIECAAAECBAgQGCogAR4qaH8CBAgQIECAAAECBAgQaEJAAtxEmAySAAECBAgQIECAAAECBIYKSICHCtqfAAECBAgQIECAAAECBJoQkAA3ESaDJECAAAECBAgQIECAAIGhAhLgoYL2J0CAAAECBAgQIECAAIEmBCTATYTJIAkQIECAAAECBAgQIEBgqIAEeKig/QkQIECAAAECBAgQIECgCQEJcBNhMkgCBAgQIECAAAECBAgQGCogAR4qaH8CBAgQIECAAAECBAgQaEJAAtxEmAySAAECBAgQIECAAAECBIYKSICHCtqfAAECBAgQIECAAAECBJoQkAA3ESaDJECAAAECBAgQIECAAIGhAhLgoYL2J0CAAAECBAgQIECAAIEmBCTATYTJIAkQIECAAAECBAgQIEBgqIAEeKig/QkQIECAAAECBAgQIECgCQEJcBNhMkgCBAgQIECAAAECBAgQGCogAR4qaH8CBAgQIECAAAECBAgQaEJAAtxEmAySAAECBAgQIECAAAECBIYKSICHCtqfAAECBAgQIECAAAECBJoQkAA3ESaDJECAAAECBAgQIECAAIGhAhLgoYL2J0CAAAECBAgQIECAAIEmBCTATYTJIAkQIECAAAECBAgQIEBgqIAEeKig/QkQIECAAAECBAgQIECgCQEJcBNhMkgCBAgQIECAAAECBAgQGCogAR4qaH8CBAgQIECAAAECBAgQaEJAAtxEmAySAAECBAgQIECAAAECBIYKSICHCtqfAAECBAgQIECAAAECBJoQkAA3ESaDJECAAAECBAgQIECAAIGhAhLgoYL2J0CAAAECBAgQIECAAIEmBCTATYTJIAkQIECAAAECBAgQIEBgqIAEeKig/QkQIECAAAECBAgQIECgCQEJcBNhMkgCBAgQIECAAAECBAgQGCogAR4qaH8CBAgQIECAAAECBAgQaEJAAtxEmAySAAECBAgQIECAAAECBIYKSICHCtqfAAECBAgQIECAAAECBJoQkAA3ESaDJECAAAECBAgQIECAAIGhAhLgoYL2J0CAAAECBAgQIECAAIEmBCTATYTJIAkQIECAAAECBAgQIEBgqIAEeKig/QkQIECAAAECBAgQIECgCQEJcBNhMkgCBAgQIECAAAECBAgQGCogAR4qaH8CBAgQIECAAAECBAgQaEJAAtxEmAySAAECBAgQIECAAAECBIYKSICHCtqfAAECBAgQIECAAAECBJoQkAA3ESaDJECAAAECBAgQIECAAIGhAhLgoYL2J0CAAAECBAgQIECAAIEmBCTATYTJIAkQIECAAAECBAgQIEBgqIAEeKig/QkQIECAAAECBAgQIECgCQEJcBNhMkgCBAgQIECAAAECBAgQGCogAR4qaH8CBAgQIECAAAECBAgQaEJAAtxEmAySAAECBAgQIECAAAECBIYKSICHCtqfAAECBAgQIECAAAECBJoQkAA3ESaDJECAAAECBAgQIECAAIGhAhLgoYL2J0CAAAECBAgQIECAAIEmBCTATYTJIAkQIECAAAECBAgQIEBgqIAEeKig/QkQIECAAAECBAgQIECgCQEJcBNhMkgCBAgQIECAAAECBAgQGCogAR4qaH8CBAgQIECAAAECBAgQaEJAAtxEmAySAAECBAgQIECAAAECBIYKSICHCtqfAAECBAgQIECAAAECBJoQkAA3ESaDJECAAAECBAgQIECAAIGhAhLgoYL2J0CAAAECBAgQIECAAIEmBP5/juJsaCKOmfYAAAAASUVORK5CYII=';
		var fileUpload = this;
		var files = fileUpload.files;
		var fileReader = new FileReader();
		fileReader.onload = function(e){
			//console.log(this);
			//painter.imageFile(this.result, event);
			var image = new Image();
			image.src = this.result;
			painter.imageFile(image, event);
		}
		fileReader.readAsDataURL(files[0]);
	}
	
	function imgImport(){
		document.getElementById('importFile').value='';
		trigger(document.getElementById('importFile'),'click');
	}
	
	function imgExport(){
		var dataUrl = painter.toDataUrl();
		document.getElementById('canvasImg').src = dataUrl;
	}
	
	function restart(event){
		//resetStage();
		painter.repaintCanvas(event);
	}
	
	function selectPaintType(){
		var paintTypeDiv = document.getElementById('select-paintType');
		painter.paintType(paintTypeDiv.value);
	}
	
	function selectColor(){
		var pColor, pBackgroundColor, luminance;
		var colorDiv = document.getElementById('select-color');
		var color = colorDiv.value;
		painter.color(color);
		
		pColor = new Color(color);
		pBackgroundColor = pColor.isDark()?'#ccc':'#333';
		//luminance
		var colorDivList = document.getElementsByClassName('select-color');
		for(var i = 0; i<colorDivList.length;i++){
			colorDivList[i].style.color = color;
			colorDivList[i].style.backgroundColor = pBackgroundColor;
		}
		var strokeWeightDivList = document.getElementsByClassName('select-strokeWeight');
		for(var i = 0; i<strokeWeightDivList.length;i++){
			strokeWeightDivList[i].style.color = color;
			strokeWeightDivList[i].style.backgroundColor = pBackgroundColor;
		}
		initColorDiv();
	}
	
	function selectStrokeWeight(){
		var strokeWeightDiv = document.getElementById('select-strokeWeight');
		painter.strokeWeight(strokeWeightDiv.value);
	}
}

function trigger(element, eventName){
	var event;
    if(element[eventName]){
        element[eventName]();
	} else {
        if(document.createEvent){
            event = document.createEvent("HTMLEvents");
            event.initEvent(eventName, true, true);
            event.eventName = eventName;
        }else{
            event = document.createEventObject();
            event.eventType = eventName;
        }
        event.eventName = eventName;
        if(document.createEvent){
            element.dispatchEvent(event);
        }else{
            element.fireEvent("on"+event.eventType, event);
        }
    }
}

function initColor(){
	var array = [];
	var colors = ["#828b20", "#b0ac31", "#cbc53d", "#fad779", "#f9e4ad", "#faf2db", "#563512", "#9b4a0b", "#d36600", "#fe8a00", "#f9a71f"];
	for(var i = 0; i<colors.length;i++){
		array.push('<option value="'+colors[i]+'" style="color:'+colors[i]+';">'+colors[i]+'</option>')
	}
	$('#select-color').append(array.join(''));
	initColorDiv();
}
function initColorDiv(){
	$('#select-color').find('option').each(function(index){
		var colorValue = this.value;
		var colorObj = new Color(colorValue);
		var backgroundColor = colorObj.isDark()?'#ccc':'#333';
		this.style.backgroundColor = backgroundColor;
	});
	
	$('#select-color-menu').find('a').each(function(index){
		var colorValue = $('#select-color').find('option')[index].value;
		var colorObj = new Color(colorValue);
		var backgroundColor = colorObj.isDark()?'#ccc':'#333';
		this.style.color = colorValue;
		this.style.backgroundColor = backgroundColor;
	});
}



